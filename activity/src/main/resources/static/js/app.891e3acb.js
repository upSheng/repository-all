(function(e){function t(t){for(var o,i,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)i=l[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var o={},a={app:0},r=[];function i(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=o,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},3803:function(e,t,n){},"3fcd":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],i={name:"app"},l=i,s=(n("a745"),n("2877")),c=Object(s["a"])(l,a,r,!1,null,"26587f83",null),d=c.exports,u=n("8c4f"),p=n("bc3a"),f=n.n(p),m=n("a7fe"),h=n.n(m),v=n("5c96"),b=n.n(v),g=(n("0fae"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"margin-top":"20px"}},[n("el-row",[n("el-col",{attrs:{span:18}},[n("video",{staticStyle:{width:"90%"},attrs:{controls:"autoplay",src:e.src}})]),n("el-col",{attrs:{span:6}},e._l(e.videoList,(function(t){return n("div",{key:t.num},[n("el-button",{staticStyle:{width:"80%"},on:{click:function(n){return e.btn(t.src)}}},[e._v(e._s(t.num))])],1)})),0)],1)],1)}),_=[],w={name:"movie",data:function(){return{videoList:[],src:""}},methods:{btn:function(e){this.src=e},init:function(){console.log(this.$route.params.id),this.videoList=[{num:1,src:"https://vip.w.xk.miui.com/924a97bd5908561d96e94bb10f02207b"},{num:2,src:"https://vip.w.xk.miui.com/96a5b82402e5e65d25df95b6cd014e42"},{num:3,src:"https://vip.w.xk.miui.com/96a5b82402e5e65d25df95b6cd014e42"},{num:4,src:"https://vip.w.xk.miui.com/96a5b82402e5e65d25df95b6cd014e42"}],this.btn(this.videoList[0].src)}},mounted:function(){this.init()}},x=w,y=Object(s["a"])(x,g,_,!1,null,"6d9eff8e",null),k=y.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.productList,(function(t){return n("el-row",[n("el-col",{attrs:{span:6}},[n("img",{attrs:{src:t.img}})]),n("el-col",{attrs:{span:6}},[n("div",[e._v(" "+e._s(t.name)+" ")]),n("div",[e._v(" "+e._s(t.describe)+" ")])]),n("el-col",{attrs:{span:6}},[n("div",{staticStyle:{color:"#ff6700"}},[e._v(" "+e._s(t.price)+" ")])]),n("el-col",{attrs:{span:6}},[n("el-button",{on:{click:function(n){return e.open(t.id)}}},[e._v("购买")])],1)],1)})),n("el-dialog",{attrs:{visible:e.show},on:{"update:visible":function(t){e.show=t}}},[n("img",{attrs:{src:e.qrCode}})])],2)},M=[],O={name:"homepage",data:function(){return{productList:[],show:!1,outTradeNo:"",qrCode:""}},methods:{open:function(e){var t=this;this.axios.post("/placeOrder?id="+e).then((function(e){console.log(e.data),200==e.data.code&&(t.qrCode=e.data.data.qrCode,t.outTradeNo=e.data.data.outTradeNo,t.show=!0,t.lunxun(t.outTradeNo))}))},init:function(){var e=this;this.axios.get("/listProduct").then((function(t){console.log(t.data),200==t.data.code&&(e.productList=t.data.data)}))},lunxun:function(e){var t,n=this;t=setInterval((function(){n.show||clearInterval(t),n.axios.get("/findOrder?id="+e).then((function(e){if(200==e.data.code&&1==e.data.data.status){console.log("支付成功");var o=JSON.parse(localStorage.getItem("orderIdList"));null==o&&(o=[]),o.push({id:e.data.data.transactionId}),localStorage.setItem("orderIdList",JSON.stringify(o)),n.show=!1,clearInterval(t),n.$router.push("/order")}}))}),6e3)}},mounted:function(){this.init()}},S=O,L=Object(s["a"])(S,I,M,!1,null,"3373ae87",null),j=L.exports,N=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{placeholder:"微信支付交易号"},model:{value:e.orderId,callback:function(t){e.orderId=t},expression:"orderId"}}),n("div",[e._v(" "+e._s(e.productName)+" ")]),n("div",[e._v(" "+e._s(e.content)+" ")])],1),n("el-col",{attrs:{span:1}},[n("el-button",{on:{click:e.search}},[e._v("查询")]),e._v(" 历史订单 "),e._l(e.orderIdList,(function(t){return n("div",[e._v(" "+e._s(t.id)+" ")])}))],2),n("el-col",{attrs:{span:12}})],1)],1)},$=[],P=(n("386d"),{name:"order",data:function(){return{orderId:"",productName:"",content:"",orderIdList:[]}},methods:{search:function(){var e=this;this.axios.get("/findOrder?id="+this.orderId).then((function(t){console.log(t.data),null!=t.data.data&&200==t.data.code?1==t.data.data.status&&(e.productName=t.data.data.productName,e.content="老板发财"):(e.productName="无此订单",e.content="")}))}},mounted:function(){this.orderIdList=JSON.parse(localStorage.getItem("orderIdList")),console.log(this.orderIdList),null!=this.orderIdList&&this.orderIdList.length>0&&(this.orderId=this.orderIdList[this.orderIdList.length-1].id,this.search())}}),C=P,T=Object(s["a"])(C,N,$,!1,null,"014a00dc",null),E=T.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-tree",{attrs:{data:e.data,props:e.defaultProps},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.node,a=t.data;return n("span",{staticClass:"custom-tree-node"},[n("span",[e._v(e._s(o.label))]),n("span",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticStyle:{"margin-left":"30px"}},[n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.append(a)}}},[e._v(" Append ")]),n("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(){return e.remove(o,a)}}},[e._v(" Delete ")])],1)])}}])})],1),n("el-col",{attrs:{span:18}},[n("el-row",[n("el-col",{attrs:{span:6}},[n("el-input",{model:{value:e.selectedMene.id,callback:function(t){e.$set(e.selectedMene,"id",t)},expression:"selectedMene.id"}},[n("template",{slot:"prepend"},[e._v("ID")])],2)],1),n("el-col",{attrs:{span:6}},[n("el-input",{model:{value:e.selectedMene.name,callback:function(t){e.$set(e.selectedMene,"name",t)},expression:"selectedMene.name"}},[n("template",{slot:"prepend"},[e._v("NAME")])],2)],1)],1),n("el-row",[n("el-col",{attrs:{span:6}},[n("el-input",{model:{value:e.selectedMene.url,callback:function(t){e.$set(e.selectedMene,"url",t)},expression:"selectedMene.url"}},[n("template",{slot:"prepend"},[e._v("URL")])],2)],1)],1),n("el-row",[n("el-button",{on:{click:function(t){return e.save()}}},[e._v("保存")])],1)],1)],1)],1)},q=[],z=(n("7f7f"),{name:"webMenu",data:function(){return{data:[],defaultProps:{children:"children",label:"name"},selectedMene:{id:"",name:"",children:[]}}},methods:{handleNodeClick:function(e){console.log(e),this.selectedMene.name=e.name,this.selectedMene.children=e.children},addWebMenu:function(){console.log("vvv");this.axios.get("/api/helloWorld").then((function(e){console.log(e.data)})),this.axios.get("/api/").then((function(e){console.log(e.data)}))},loadData:function(){console.log("load data"),this.data=[{name:"一级 1",url:"ccc",children:[{name:"二级 1-1",children:[{name:"三级 1-1-1"}]}]},{name:"一级 2",children:[{name:"二级 2-1",children:[{name:"三级 2-1-1"}]},{name:"二级 2-2",children:[{name:"三级 2-2-1"}]}]},{name:"一级 3",children:[{name:"二级 3-1",children:[{name:"三级 3-1-1"}]},{name:"二级 3-2",children:[{name:"三级 3-2-1"}]}]}]},append:function(e){console.log("append")},remove:function(e){console.log("remove")},save:function(){console.log(this.selectedMene)}},mounted:function(){this.loadData()}}),D=z,R=Object(s["a"])(D,J,q,!1,null,"d465091c",null),U=R.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{staticClass:"login-form"},[n("el-form-item",[n("div",{staticStyle:{"text-align":"center","font-size":"26px",color:"white"}},[e._v(" 系统登录 ")])]),n("el-form-item",[n("el-input",{attrs:{"prefix-icon":"el-icon-user",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),n("el-form-item",[n("el-input",{attrs:{"prefix-icon":"el-icon-unlock",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("el-form-item",[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:e.login}},[e._v("登入")])],1)],1)],1)},W=[],F={name:"login",data:function(){return{username:"",password:""}},methods:{login:function(){var e=this,t=new URLSearchParams;t.append("username",this.username),t.append("password",this.password),this.axios.post("/api/login",t).then((function(t){console.log(t.data),200==t.data.status&&(localStorage.setItem("jwtToken",t.data.jwtToken),e.$router.push("/movie"))}))},check:function(){var e=localStorage.getItem("jwtToken");console.log(e)}}},B=F,G=(n("7b29"),Object(s["a"])(B,A,W,!1,null,"6e6de90c",null)),H=G.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%"}},[n("el-container",[n("el-header",[n("NavMenu")],1),n("el-main",[n("router-view")],1),n("el-footer",[e._v("Footer "),n("a",{attrs:{href:"tencent://message/?uin=646188530"}},[e._v("在线客服①")])])],1)],1)},Q=[],V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"NavMenu"}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal",router:""},on:{select:e.handleSelect}},[n("el-menu-item",{attrs:{index:"/"}},[e._v("首页")]),n("el-menu-item",{attrs:{index:"/order"}},[e._v("我的订单")])],1)],1)},X=[],Y={name:"NavMenu",data:function(){return{activeIndex:"movie"}},methods:{handleSelect:function(e,t){console.log(e,t),this.activeIndex=e}},mounted:function(){}},Z=Y,ee=Object(s["a"])(Z,V,X,!1,null,"3ede7a12",null),te=ee.exports,ne={name:"myMain",components:{NavMenu:te}},oe=ne,ae=(n("6a0b"),Object(s["a"])(oe,K,Q,!1,null,null,null)),re=ae.exports;o["default"].config.productionTip=!1,o["default"].use(u["a"]),o["default"].use(b.a),o["default"].use(h.a,f.a),f.a.defaults.baseURL="http://1w7255a684.51mypc.cn/";var ie=[{path:"/login",component:H},{path:"/",component:re,children:[{path:"",component:j},{path:"movie/:id",component:k},{path:"order",component:E},{path:"webMenu",component:U}]}],le=new u["a"]({routes:ie});new o["default"]({render:function(e){return e(d)},router:le}).$mount("#app")},"6a0b":function(e,t,n){"use strict";n("3fcd")},"7b29":function(e,t,n){"use strict";n("3803")},"7b57":function(e,t,n){},a745:function(e,t,n){"use strict";n("7b57")}});
//# sourceMappingURL=app.891e3acb.js.map